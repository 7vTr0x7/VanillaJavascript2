<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js
"></script>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container">
          <a class="navbar-brand" href="index.html">Jobs Portal</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="jobs.html">Jobs</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="report.html">Report</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="container my-4">
        <h1>Job Details</h1>

        <div id="jobDetails" class="col-md-8"></div>
      </div>
    </main>

    <script>
      const jobs = [
        {
          id: 1,
          title: "Software Engineer",
          category: "IT",
          location: "New York",
          postDate: "2023-01-15",
          details: "Job description for a software engineer.",
        },
        {
          id: 2,
          title: "Financial Analyst",
          category: "Finance",
          location: "San Francisco",
          postDate: "2023-02-20",
          details: "Job description for a financial analyst.",
        },
        {
          id: 3,
          title: "Marketing Manager",
          category: "Marketing",
          location: "San Francisco",
          postDate: "2023-04-05",
          details: "Job description for a marketing manager.",
        },
      ];

      const jobDetails = document.querySelector("#jobDetails");

      const getId = (id) => {
        const url = new URL(window.location.href);

        return url.searchParams.get(id);
      };

      const jobId = getId("id");

      console.log(jobId);

      let job;

      for (let i = 0; i < jobs.length; i++) {
        if (jobs[i].id === Number(jobId)) {
          job = jobs[i];
        }
      }

      console.log(job);

      if (job) {
        const card = document.createElement("div");
        card.className = "card p-4";

        const div = document.createElement("div");
        div.className = "d-flex justify-content-between";

        const h5 = document.createElement("h5");
        h5.textContent = job.title;

        const postDate = document.createElement("p");
        postDate.textContent = `Post Date: ${job.postDate}`;

        div.appendChild(h5);
        div.appendChild(postDate);

        const category = document.createElement("p");
        category.innerHTML = `<b>Category: </b>${job.category}`;

        const location = document.createElement("p");
        location.innerHTML = `<b>Location: </b>${job.location}`;

        const details = document.createElement("p");
        details.innerHTML = `<b>Details: </b>${job.details}`;

        card.appendChild(div);
        card.appendChild(category);
        card.appendChild(location);
        card.appendChild(details);

        jobDetails.appendChild(card);
      }
    </script>
  </body>
</html>
